/* -- do not edit following lines - START --
{
  "expert": true,
  "debug": false,
  "verbose": false
}
-- do not edit previous lines - END --*/
const HEATPUMP_OPERATING_MODE = Object.freeze({
    EMERGENCY : 0, // Notbetrieb
    STANDBY : 1,  // Bereitschaftsbetrieb
    PROGRAM : 2, // Programmbetrieb
    COMFORT: 3,  // Komfortbetrieb
    ECO : 4,  // Ecobetrieb
    WARMWATER_ONLY : 5 // Warmwasserbetrieb
});

class HeatPumpOperatingMode {
    static toString(mode) {
        switch(mode) {
            case HEATPUMP_OPERATING_MODE.EMERGENCY:
                return "EMERGENCY";
            case HEATPUMP_OPERATING_MODE.STANDBY:
                return "STANDBY";
            case HEATPUMP_OPERATING_MODE.PROGRAM:
                return "PROGRAM (Default)";
            case HEATPUMP_OPERATING_MODE.COMFORT:
                return "COMFORT";
            case HEATPUMP_OPERATING_MODE.ECO:
                return "ECO";
            case HEATPUMP_OPERATING_MODE.WARMWATER_ONLY:
                return "WARMWATER_ONLY";
            default:
                return "UNKNOWN";
        }
    }
}

const HEATPUMP_MODE = Object.freeze({
    PASSIVE : "PASSIVE",     // Do not actively start the heatpump
    EFFICIENT : "EFFICIENT",  // Lowest power possible for heatpump to be most efficient.
    MODULATED : "MODULATED", // Modulate heatpump power to follow available solar surplus
    BUFFERING : "BUFFERING", // Try to fill buffers as fast as possible with available surplus energy.
    WARMUP : "WARMUP", // Warm up the rooms and buffer efficiently towards target temperature
});

class HeatPumpMode 
{
    static getDefaultTargetSettings(mode) {
        switch(mode) {
            case HEATPUMP_MODE.PASSIVE:            
            case HEATPUMP_MODE.EFFICIENT:
                return EFFICIENT_HEATPUMP_EMI_SETTINGS;
            case HEATPUMP_MODE.WARMUP:
                return DEFAULT_HEATPUMP_EMI_SETTINGS;
            case HEATPUMP_MODE.BUFFERING:
            case HEATPUMP_MODE.MODULATED:
                return MAX_BUFFER_HEATPUMP_EMI_SETTINGS;
            default:
                console.error("Unsupported HEATPUMP MODE: " + mode);
                return DEFAULT_HEATPUMP_EMI_SETTINGS;
        }
    }

    static getCode(mode) {
        switch(mode) {
            case HEATPUMP_MODE.PASSIVE:
                return 0;
            case HEATPUMP_MODE.EFFICIENT:
                return 1;
            case HEATPUMP_MODE.MODULATED:
                return 2;
            case HEATPUMP_MODE.BUFFERING:
                return 3;
            case HEATPUMP_MODE.WARMUP:
                return 4;
            default:
                return -1;
        }
    }
}